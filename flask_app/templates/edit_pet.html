{% extends 'layout.html' %}

{% block title %}Edit Pet{% endblock title %}

{% block content %}
  <h1 class="display-3 mb-3">Edit Pet</h1>
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for message in messages %}
        <div
          class="alert alert-danger alert-dismissible fade show"
          role="alert"
        >
          {{ message }}
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="alert"
            aria-label="Close"
          ></button>
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  <div class="card shadow">
    <div class="card-body">
      <form action="/pets/update" method="post">
        <input type="hidden" name="pet_id" value="{{ pet.id }}" />
        <div class="form-floating mb-3">
          <input
            type="text"
            name="name"
            id="name"
            class="form-control"
            value="{{ pet.name }}"
            placeholder="First name:"
          />
          <label for="name">Pet name:</label>
        </div>
        <div class="form-floating mb-3">
          <input
            type="text"
            name="type"
            id="type"
            class="form-control"
            value="{{ pet.type }}"
            placeholder="Pet type:"
          />
          <label for="type">Pet type:</label>
        </div>
        <fieldset>
          <legend class="fs-6">Is your pet derpy?</legend>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="is_derpy"
              id="yes"
              value="1"
              {{ 'checked' if pet.is_derpy else '' }}
            />
            <label class="form-check-label" for="yes">Yes</label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="is_derpy"
              id="no"
              value="0"
              {{ 'checked' if not pet.is_derpy else '' }}
            />
            <label class="form-check-label" for="no">No</label>
          </div>
        </fieldset>
        <div class="text-end">
          <button type="submit" class="btn btn-primary">Edit Pet</button>
        </div>
      </form>
    </div>
  </div>
{% endblock content %}
